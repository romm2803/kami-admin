<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/admin-styles.css">
    <link rel="stylesheet" href="../styles/anime-recommend-styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="../scripts/adminDashboard.js" defer></script>
    <script type="module" src="../scripts/animeRecommendations.js" defer></script>
    <script type="module" src="../scripts/chart.js" defer></script>
    <script type="module" src="../scripts/productRecommendation.js" defer></script>
    <script type="module" src="../scripts/userRecommendations.js" defer></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/kami-logo.png" alt="Admin Logo" class="admin-logo">
                <h2>Admin Panel</h2>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="active">Dashboard</a></li>
                <li><a href="../general/adminProducts.html">Products</a></li>
                <li><a href="../general/orders.html">Orders</a></li>
                <li><a href="../general/users.html">Users</a></li>
                <li><a href="../general/feedback.html">Feedback</a></li>
                <li><a href="../general/add-product.html">Add Products</a></li>
                <li><a href="../general/selectProduct.html">Edit Products</a></li>
            </ul>
            <button class="logout-btn">Logout</button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="dashboard-header">
                <h1>Admin Dashboard</h1>
                <button class="inbox-button" onclick="location.href='../general/inbox.html'">Inbox</button>
                <i class="fas fa-inbox"></i> Inbox
                </button>
            </header>

            <section class="dashboard-cards">
                <div class="card">
                    <h3>Total Products</h3>
                    <p id="totalProducts">Loading...</p>
                </div>
                <div class="card">
                    <h3>Total Users</h3>
                    <p id="totalUsers">Loading...</p>
                </div>
                <div class="card">
                    <h3>Total Orders</h3>
                    <p id="totalOrders">Loading...</p>
                </div>
                <div class="card">
                    <h3>Completed Orders</h3>
                    <p id="completedOrders">Loading...</p>
                </div>
                <div class="card">
                    <h3>Monthly Revenue - <span id="currentMonth"></span></h3>
                    <p id="monthlyRevenue">Computing....</p>
                </div>
            </section>

            <!-- Chart Section -->
            <div class="toggle-container">
                <label class="switch">
                    <input type="checkbox" id="toggleChart" checked>
                    <span class="slider"></span>
                </label>
                <span class="toggle-label">Show Statistics</span>
            </div>
            
            <section class="chart-container" id="chartSection">
                <h2>Dashboard Statistics</h2>
                <div class="chart-wrapper">
                    <canvas id="dashboardChart"></canvas>
                </div>
            </section>     

            <!-- Product Recommendations Section -->
            <section class="product-recommendations">
                <h2>Recommended Products</h2>
                <div id="recommendedProducts" class="anime-recommendations-container"></div>
            </section>

            <!-- Similar Anime Recommendations Section -->
            <section class="similar-anime-recommendations">
                <h2>Similar Anime Based on Popular Products - Content-Based Filtering</h2>
                <div id="recommendedAnime" class="anime-recommendations-container"></div>
            </section>

            <!-- User-Based Recommendations Section -->
            <section class="user-based-recommendations">
                <h2>User-Based Recommendations - Recent Likes and Purchases</h2>
                <div id="userBasedRecommendations" class="anime-recommendations-container">
                    <div id="animeCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner" id="carouselContent"></div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#animeCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#animeCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Anime Recommendations Section -->
            <section class="anime-recommendations">
                <div class="anime-header">
                    <h2 id="anime-title">Anime Recommendations - All Time</h2>
                    <select id="animeCategory">
                        <option value="topAllTime">Anime Recommendations - All Time</option>
                        <option value="topTrending">Anime Recommendations - Top Trending</option>
                    </select>
                </div>
                <div id="anime-recommendations-container"></div>
            </section>
        </main>
    </div>
</body>
</html>
